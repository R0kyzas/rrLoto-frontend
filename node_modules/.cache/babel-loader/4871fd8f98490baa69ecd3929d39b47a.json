{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rokas\\\\Desktop\\\\rrloto \\u2013 kopija\\\\frontend\\\\src\\\\Components\\\\Modal.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { green } from '@mui/material/colors';\nimport Box from '@mui/material/Box';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Button from '@mui/material/Button';\nimport { usePromiseTracker } from \"react-promise-tracker\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Modal = _ref => {\n  _s();\n\n  let {\n    showModal,\n    postMessage,\n    props\n  } = _ref;\n  const [loading, setLoading] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const timer = useRef(0);\n  const {\n    promiseInProgress\n  } = usePromiseTracker({\n    area: props.area\n  });\n  const buttonSx = { ...(success && {\n      bgcolor: green[500],\n      '&:hover': {\n        bgcolor: green[700]\n      }\n    })\n  };\n  useEffect(() => {\n    return () => {\n      clearTimeout(timer);\n    };\n  }, []);\n\n  const handleClose = () => {\n    // let i = 0;\n    if (!promiseInProgress) {\n      setSuccess(false);\n      setLoading(true); // if(postMessage && postMessage === 200)\n      // {\n      //     console.log(postMessage.length)\n      //     // do {\n      //     //     setSuccess(false);\n      //     //     setLoading(true);\n      //     //     i++;\n      //     // } while (i < postMessage.length);\n      //     // timer.current = window.setTimeout(() => {\n      //     //     setSuccess(true);\n      //     //     setLoading(false);\n      //     // }, 2000);\n      // }\n    }\n\n    if (promiseInProgress) {\n      timer.current = window.setTimeout(() => {\n        setSuccess(true);\n        setLoading(false);\n      }, 2000);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: showModal && postMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-dialog\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header\",\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"modal-title\",\n              children: postMessage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"J\\u016Bs\\u0173 loterijos bilietas numeris: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ticket-color\",\n                children: \"#\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 61\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Parodykite arba pasakykite ved\\u0117jui savo bilieto numer\\u012F, kad j\\u012F patvirtintu.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Po patvirtinimo prie savo bilieto matysite: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"active-color\",\n                children: \"\\\"aktyvus\\\"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 72\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-footer\",\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                m: 1,\n                position: 'relative'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                sx: buttonSx,\n                disabled: loading,\n                onClick: handleClose,\n                children: \"Tvirtinu\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 29\n              }, this), loading && /*#__PURE__*/_jsxDEV(CircularProgress, {\n                size: 24,\n                sx: {\n                  color: green[500],\n                  position: 'absolute',\n                  top: '50%',\n                  left: '50%',\n                  marginTop: '-12px',\n                  marginLeft: '-12px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }, this)\n  }, void 0, false);\n};\n\n_s(Modal, \"nxjDCY1z2YZcfhWpKfdjeXOtDF8=\", false, function () {\n  return [usePromiseTracker];\n});\n\n_c = Modal;\nexport default Modal;\n\nvar _c;\n\n$RefreshReg$(_c, \"Modal\");","map":{"version":3,"names":["React","useState","useEffect","useRef","green","Box","CircularProgress","Button","usePromiseTracker","Modal","showModal","postMessage","props","loading","setLoading","success","setSuccess","timer","promiseInProgress","area","buttonSx","bgcolor","clearTimeout","handleClose","current","window","setTimeout","m","position","color","top","left","marginTop","marginLeft"],"sources":["C:/Users/Rokas/Desktop/rrloto – kopija/frontend/src/Components/Modal.jsx"],"sourcesContent":["import React, {useState, useEffect, useRef} from \"react\";\r\nimport { green } from '@mui/material/colors';\r\nimport Box from '@mui/material/Box';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport Button from '@mui/material/Button';\r\nimport { usePromiseTracker } from \"react-promise-tracker\";\r\n\r\nconst Modal = ({showModal, postMessage, props}) => {\r\n    const [loading, setLoading] = useState(false);\r\n    const [success, setSuccess] = useState(false);\r\n    const timer = useRef(0);\r\n\r\n    const { promiseInProgress } = usePromiseTracker({area: props.area});\r\n\r\n    const buttonSx = {\r\n        ...(success && {\r\n          bgcolor: green[500],\r\n          '&:hover': {\r\n            bgcolor: green[700],\r\n          },\r\n        }),\r\n      };\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            clearTimeout(timer);\r\n        };\r\n    }, []);\r\n\r\n    const handleClose = () => {\r\n        // let i = 0;\r\n        if(!promiseInProgress){\r\n            setSuccess(false);\r\n            setLoading(true);   \r\n            // if(postMessage && postMessage === 200)\r\n            // {\r\n            //     console.log(postMessage.length)\r\n            //     // do {\r\n            //     //     setSuccess(false);\r\n            //     //     setLoading(true);\r\n            //     //     i++;\r\n            //     // } while (i < postMessage.length);\r\n            //     // timer.current = window.setTimeout(() => {\r\n            //     //     setSuccess(true);\r\n            //     //     setLoading(false);\r\n            //     // }, 2000);\r\n            // }\r\n        }\r\n        if(promiseInProgress)\r\n        {\r\n            timer.current = window.setTimeout(() => {\r\n                    setSuccess(true);\r\n                    setLoading(false);\r\n            }, 2000);\r\n\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            {showModal && postMessage && (\r\n                <div className='modal'>\r\n                    <div className='modal-dialog'>\r\n                    <div className='modal-content'>\r\n                        <div className='modal-header'>\r\n                        <h5 className='modal-title'>{postMessage}</h5>\r\n                        </div>\r\n                        <div className='modal-body'>\r\n                        <p>Jūsų loterijos bilietas numeris: <span className='ticket-color'>#</span></p>\r\n                        <p>Parodykite arba pasakykite vedėjui savo bilieto numerį, kad jį patvirtintu.</p>\r\n                        <p>Po patvirtinimo prie savo bilieto matysite: <span className='active-color'>\"aktyvus\"</span></p>\r\n                        </div>\r\n                        <div className='modal-footer'>\r\n                        <Box sx={{ m: 1, position: 'relative' }}>\r\n                            <Button\r\n                            variant=\"contained\"\r\n                            sx={buttonSx}\r\n                            disabled={loading}\r\n                            onClick={handleClose}\r\n                            >\r\n                            Tvirtinu\r\n                            </Button>\r\n                            {loading && (\r\n                            <CircularProgress\r\n                                size={24}\r\n                                sx={{\r\n                                color: green[500],\r\n                                position: 'absolute',\r\n                                top: '50%',\r\n                                left: '50%',\r\n                                marginTop: '-12px',\r\n                                marginLeft: '-12px',\r\n                                }}\r\n                            />\r\n                            )}\r\n                        </Box>\r\n                        {/* <button type='button' class='btn btn-primary' onClick={handleClose}>Supratau</button> */}\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Modal;"],"mappings":"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"},"metadata":{},"sourceType":"module"}