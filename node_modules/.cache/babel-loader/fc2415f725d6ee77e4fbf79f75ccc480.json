{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Rokas/Desktop/rrloto \\u2013 kopija/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Rokas/Desktop/rrloto \\u2013 kopija/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Rokas/Desktop/rrloto \\u2013 kopija/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import CircularProgress from'@mui/material/CircularProgress';import Box from'@mui/material/Box';import axios from'axios';import{usePromiseTracker,trackPromise}from\"react-promise-tracker\";import Dropdown from'react-bootstrap/Dropdown';import Table from'react-bootstrap/Table';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Profile=function Profile(props){var _data$orders;var getToken=localStorage.getItem('userToken');var TICKET_URL=\"/api/ticket-list/\".concat(getToken);var _useState=useState({}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _usePromiseTracker=usePromiseTracker({area:props.area}),promiseInProgress=_usePromiseTracker.promiseInProgress;useEffect(function(){if(getToken){var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(TICKET_URL);case 2:_yield$axios$get=_context.sent;res=_yield$axios$get.data;setData(res);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getData(){return _ref.apply(this,arguments);};}();trackPromise(getData());}},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[promiseInProgress&&/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',position:'absolute',top:'0',left:'0',right:'0',height:'100%',alignItems:'center'},children:/*#__PURE__*/_jsx(CircularProgress,{})}),!promiseInProgress&&/*#__PURE__*/_jsx(\"div\",{className:\"container d-flex profile justify-content-between\",children:(_data$orders=data.orders)===null||_data$orders===void 0?void 0:_data$orders.map(function(order){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"card card-ticket text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsxs(\"div\",{children:[\"U\\u017Esakymo numeris: \",order.order_nr]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(Dropdown,{className:\"w-100\",children:[/*#__PURE__*/_jsxs(Dropdown.Toggle,{variant:\"success\",id:\"dropdown-basic\",className:\"w-100 d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Biliet\\u0173 kiekis: \",order.quantity]}),/*#__PURE__*/_jsx(\"div\",{children:order.active===0?'Laukiantis aktyvavimo':'Aktyvuotas'})]}),/*#__PURE__*/_jsx(Dropdown.Menu,{children:/*#__PURE__*/_jsx(\"div\",{className:\"tickets d-flex w-100 justify-content-between\",children:/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"th\",{children:\"Bilieto numeris\"})})}),/*#__PURE__*/_jsx(\"tbody\",{children:order.tickets.map(function(ticket){return/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"td\",{children:[\"# \",ticket.ticketNumber]})});})})]})})})]})})]})});})})]});};export default Profile;","map":{"version":3,"names":["React","useState","useEffect","CircularProgress","Box","axios","usePromiseTracker","trackPromise","Dropdown","Table","Profile","props","getToken","localStorage","getItem","TICKET_URL","data","setData","area","promiseInProgress","getData","get","res","display","justifyContent","position","top","left","right","height","alignItems","orders","map","order","order_nr","quantity","active","tickets","ticket","ticketNumber"],"sources":["C:/Users/Rokas/Desktop/rrloto – kopija/frontend/src/Pages/Profile.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport Box from '@mui/material/Box';\r\nimport axios from 'axios';\r\nimport { usePromiseTracker, trackPromise } from \"react-promise-tracker\";\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport Table from 'react-bootstrap/Table';\r\n\r\n\r\n\r\nconst Profile = (props) => {\r\n\r\n    const getToken = localStorage.getItem('userToken');\r\n    \r\n    const TICKET_URL = `/api/ticket-list/${getToken}`;\r\n    \r\n    const [data, setData] = useState({});\r\n\r\n    const { promiseInProgress } = usePromiseTracker({area: props.area});\r\n\r\n    useEffect(() => {\r\n        if(getToken)\r\n        {\r\n            const getData = async () => {\r\n                \r\n                    const {data: res} = await axios.get(TICKET_URL)\r\n                    setData(res);\r\n                \r\n            }\r\n            trackPromise(getData());\r\n        }\r\n    }, [])\r\n\r\n    return(\r\n        <>\r\n            {promiseInProgress &&\r\n                <Box sx={{ \r\n                    display: 'flex', \r\n                    justifyContent: 'center', \r\n                    position: 'absolute', \r\n                    top: '0', \r\n                    left: '0', \r\n                    right: '0', \r\n                    height: '100%', \r\n                    alignItems: 'center'\r\n                }}>\r\n                    <CircularProgress />\r\n                </Box>\r\n            }\r\n            {!promiseInProgress &&\r\n                <div className='container d-flex profile justify-content-between'>\r\n                    {data.orders?.map((order) => (\r\n                        <>\r\n                            <div className=\"card card-ticket text-center\">\r\n                                    <div className=\"card-header\">\r\n                                        <div>\r\n                                            Užsakymo numeris: {order.order_nr}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className='card-body'>\r\n                                    <Dropdown className='w-100'>\r\n                                        <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\" className='w-100 d-flex justify-content-between align-items-center'>\r\n                                            <div>\r\n                                                Bilietų kiekis: {order.quantity}\r\n                                            </div>\r\n                                            <div>\r\n                                                {order.active === 0 ? 'Laukiantis aktyvavimo' : 'Aktyvuotas'}\r\n                                            </div>\r\n                                        </Dropdown.Toggle>\r\n\r\n                                        <Dropdown.Menu>\r\n                                                <div className='tickets d-flex w-100 justify-content-between'>\r\n                                                <Table striped bordered>\r\n                                                <thead>\r\n                                                    <tr>\r\n                                                        <th>Bilieto numeris</th>\r\n                                                    </tr>\r\n                                                </thead>\r\n                                                <tbody>\r\n                                                    {order.tickets.map((ticket) => (\r\n                                                        <tr>\r\n                                                            <td># {ticket.ticketNumber}</td>\r\n                                                        </tr>\r\n                                                    ))}\r\n                                                </tbody>\r\n                                                </Table>\r\n                                                </div>\r\n                                        </Dropdown.Menu>\r\n                                    </Dropdown>\r\n                                    </div>\r\n                                </div>\r\n                        </>\r\n                    ))}\r\n                </div>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Profile;"],"mappings":"8aAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,iBAAP,KAA6B,gCAA7B,CACA,MAAOC,IAAP,KAAgB,mBAAhB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,iBAAT,CAA4BC,YAA5B,KAAgD,uBAAhD,CACA,MAAOC,SAAP,KAAqB,0BAArB,CACA,MAAOC,MAAP,KAAkB,uBAAlB,C,6IAIA,GAAMC,QAAO,CAAG,QAAVA,QAAU,CAACC,KAAD,CAAW,kBAEvB,GAAMC,SAAQ,CAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAjB,CAEA,GAAMC,WAAU,4BAAuBH,QAAvB,CAAhB,CAEA,cAAwBX,QAAQ,CAAC,EAAD,CAAhC,wCAAOe,IAAP,eAAaC,OAAb,eAEA,uBAA8BX,iBAAiB,CAAC,CAACY,IAAI,CAAEP,KAAK,CAACO,IAAb,CAAD,CAA/C,CAAQC,iBAAR,oBAAQA,iBAAR,CAEAjB,SAAS,CAAC,UAAM,CACZ,GAAGU,QAAH,CACA,CACI,GAAMQ,QAAO,4FAAG,oLAEkBf,MAAK,CAACgB,GAAN,CAAUN,UAAV,CAFlB,uCAEKO,GAFL,kBAEDN,IAFC,CAGRC,OAAO,CAACK,GAAD,CAAP,CAHQ,sDAAH,kBAAPF,QAAO,0CAAb,CAMAb,YAAY,CAACa,OAAO,EAAR,CAAZ,CACH,CACJ,CAXQ,CAWN,EAXM,CAAT,CAaA,mBACI,2BACKD,iBAAiB,eACd,KAAC,GAAD,EAAK,EAAE,CAAE,CACLI,OAAO,CAAE,MADJ,CAELC,cAAc,CAAE,QAFX,CAGLC,QAAQ,CAAE,UAHL,CAILC,GAAG,CAAE,GAJA,CAKLC,IAAI,CAAE,GALD,CAMLC,KAAK,CAAE,GANF,CAOLC,MAAM,CAAE,MAPH,CAQLC,UAAU,CAAE,QARP,CAAT,uBAUI,KAAC,gBAAD,IAVJ,EAFR,CAeK,CAACX,iBAAD,eACG,YAAK,SAAS,CAAC,kDAAf,wBACKH,IAAI,CAACe,MADV,uCACK,aAAaC,GAAb,CAAiB,SAACC,KAAD,qBACd,sCACI,aAAK,SAAS,CAAC,8BAAf,wBACQ,YAAK,SAAS,CAAC,aAAf,uBACI,iDACuBA,KAAK,CAACC,QAD7B,GADJ,EADR,cAMQ,YAAK,SAAS,CAAC,WAAf,uBACA,MAAC,QAAD,EAAU,SAAS,CAAC,OAApB,wBACI,MAAC,QAAD,CAAU,MAAV,EAAiB,OAAO,CAAC,SAAzB,CAAmC,EAAE,CAAC,gBAAtC,CAAuD,SAAS,CAAC,yDAAjE,wBACI,+CACqBD,KAAK,CAACE,QAD3B,GADJ,cAII,qBACKF,KAAK,CAACG,MAAN,GAAiB,CAAjB,CAAqB,uBAArB,CAA+C,YADpD,EAJJ,GADJ,cAUI,KAAC,QAAD,CAAU,IAAV,wBACQ,YAAK,SAAS,CAAC,8CAAf,uBACA,MAAC,KAAD,EAAO,OAAO,KAAd,CAAe,QAAQ,KAAvB,wBACA,oCACI,iCACI,uCADJ,EADJ,EADA,cAMA,uBACKH,KAAK,CAACI,OAAN,CAAcL,GAAd,CAAkB,SAACM,MAAD,qBACf,iCACI,2BAAOA,MAAM,CAACC,YAAd,GADJ,EADe,EAAlB,CADL,EANA,GADA,EADR,EAVJ,GADA,EANR,GADJ,EADc,EAAjB,CADL,EAhBR,GADJ,CAgEH,CAvFD,CAyFA,cAAe7B,QAAf"},"metadata":{},"sourceType":"module"}