{"ast":null,"code":"import _objectSpread from\"C:/Users/Rokas/Desktop/rrloto \\u2013 kopija/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/Rokas/Desktop/rrloto \\u2013 kopija/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Rokas/Desktop/rrloto \\u2013 kopija/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Rokas/Desktop/rrloto \\u2013 kopija/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import axios from'../api/axios';import Modal from'../Components/Modal';import{useForm}from'react-hook-form';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var TICKET_URL='/ticket';var Home=function Home(){var _errors$name,_errors$lastname,_errors$ticketNumber,_errors$ticketNumber2;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showModal=_useState2[0],setShowModal=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),postMessage=_useState4[0],setPostMessage=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),getTicketNumber=_useState6[0],setGetTicketNumber=_useState6[1];var _useForm=useForm({mode:\"onChange\",defaultValues:{name:\"\",lastname:\"\",ticketNumber:0}}),register=_useForm.register,errors=_useForm.formState.errors,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset,getValues=_useForm.getValues;var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(data){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(TICKET_URL,data).then(function(res){setPostMessage(res.data.success);setShowModal(true);}).catch(function(err){console.log(err);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();var handleClose=function handleClose(){setShowModal(false);reset({name:\"\",lastname:\"\",ticketNumber:0});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Modal,{showModal:showModal,postMessage:postMessage,ticketNumber:getTicketNumber,handleClose:handleClose}),/*#__PURE__*/_jsx(\"div\",{className:\"container d-flex justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:\"Loterijos bilietas\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),method:\"POST\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",className:\"form-control\",placeholder:\"\\u012Eveskite savo vard\\u0105\"},register(\"name\",{required:true}))),/*#__PURE__*/_jsx(\"span\",{children:((_errors$name=errors.name)===null||_errors$name===void 0?void 0:_errors$name.type)===\"required\"&&\"Vardas yra privalomas\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",className:\"form-control\",placeholder:\"\\u012Eveskite savo pavard\\u0119\"},register(\"lastname\",{required:true}))),/*#__PURE__*/_jsx(\"span\",{children:((_errors$lastname=errors.lastname)===null||_errors$lastname===void 0?void 0:_errors$lastname.type)===\"required\"&&\"Pavardė yra privaloma\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"number\",className:\"form-control\",placeholder:\"\\u012Eveskite norima skai\\u010Di\\u0173\"},register(\"ticketNumber\",{min:1,max:1000}))),/*#__PURE__*/_jsxs(\"span\",{children:[((_errors$ticketNumber=errors.ticketNumber)===null||_errors$ticketNumber===void 0?void 0:_errors$ticketNumber.type)==='min'&&\"Minimalus bilieto skaičius 1\",((_errors$ticketNumber2=errors.ticketNumber)===null||_errors$ticketNumber2===void 0?void 0:_errors$ticketNumber2.type)==='max'&&\"Maksimalus bilieto skaičius 1000\"]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",onClick:function onClick(){var values=getValues('ticketNumber');setGetTicketNumber(values);},children:\"Nusipirkti\"})]})})]})})]});};export default Home;","map":{"version":3,"names":["React","useState","axios","Modal","useForm","TICKET_URL","Home","showModal","setShowModal","postMessage","setPostMessage","getTicketNumber","setGetTicketNumber","mode","defaultValues","name","lastname","ticketNumber","register","errors","formState","handleSubmit","reset","getValues","onSubmit","data","post","then","res","success","catch","err","console","log","handleClose","required","type","min","max","values"],"sources":["C:/Users/Rokas/Desktop/rrloto – kopija/frontend/src/Pages/Home.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from '../api/axios';\r\nimport Modal from '../Components/Modal';\r\nimport { useForm } from 'react-hook-form';\r\n\r\nconst TICKET_URL = '/ticket';\r\n\r\nconst Home = () => {\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [postMessage, setPostMessage] = useState('');\r\n    const [getTicketNumber, setGetTicketNumber] = useState(0);\r\n\r\n    const {\r\n        register, \r\n        formState: {errors}, \r\n        handleSubmit,\r\n        reset,\r\n        getValues,\r\n    } = useForm({\r\n        mode: \"onChange\",\r\n        defaultValues: {\r\n            name: \"\",\r\n            lastname: \"\",\r\n            ticketNumber: 0,\r\n        }\r\n    });\r\n\r\n    const onSubmit = async (data) => {\r\n        await axios.post(TICKET_URL, data)\r\n            .then((res) => {\r\n                setPostMessage(res.data.success);\r\n                setShowModal(true);\r\n            })\r\n            .catch((err)=>{console.log(err)})\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setShowModal(false)\r\n        reset({name: \"\", lastname: \"\", ticketNumber: 0});\r\n    }\r\n\r\n    return(\r\n        <>\r\n            <Modal showModal={showModal} postMessage={postMessage} ticketNumber={getTicketNumber} handleClose={handleClose}/>\r\n            <div className='container d-flex justify-content-center'>\r\n                <div className=\"card text-center\">\r\n                    <div className=\"card-header\">\r\n                        Loterijos bilietas\r\n                    </div>\r\n                    <div className='card-body'>\r\n                        <form onSubmit={handleSubmit(onSubmit)} method=\"POST\">\r\n                            <div className='form-group'>\r\n                                <input \r\n                                    type='text' \r\n                                    className='form-control' \r\n                                    placeholder='Įveskite savo vardą'\r\n                                    {...register(\"name\", {required: true})}\r\n                                />\r\n                                <span>\r\n                                    {errors.name?.type === \"required\" && \"Vardas yra privalomas\"}\r\n                                </span>\r\n                            </div>\r\n                            <div className='form-group'>\r\n                                <input \r\n                                    type='text' \r\n                                    className='form-control' \r\n                                    placeholder='Įveskite savo pavardę'\r\n                                    {...register(\"lastname\", {required: true})}\r\n                                />\r\n                                <span>\r\n                                    {errors.lastname?.type === \"required\" && \"Pavardė yra privaloma\"}\r\n                                </span>\r\n                            </div>\r\n                            <div className='form-group'>\r\n                                <input \r\n                                    type='number' \r\n                                    className='form-control' \r\n                                    placeholder='Įveskite norima skaičių' \r\n                                    {...register(\"ticketNumber\", {min: 1, max: 1000})}\r\n                                />\r\n                                <span>\r\n                                    {errors.ticketNumber?.type === 'min' && \"Minimalus bilieto skaičius 1\"}\r\n                                    {errors.ticketNumber?.type === 'max' && \"Maksimalus bilieto skaičius 1000\"}\r\n                                </span>\r\n                            </div>\r\n                            <button \r\n                                type='submit' \r\n                                className='btn btn-primary'\r\n                                onClick={() => {\r\n                                    const values = getValues('ticketNumber');\r\n                                    setGetTicketNumber(values);\r\n                                }}\r\n                            >\r\n                                Nusipirkti\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Home;"],"mappings":"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"},"metadata":{},"sourceType":"module"}