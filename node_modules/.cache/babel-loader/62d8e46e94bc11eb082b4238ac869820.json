{"ast":null,"code":"import _objectSpread from\"C:/Users/Rokas/Desktop/rrloto \\u2013 kopija/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/Rokas/Desktop/rrloto \\u2013 kopija/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Rokas/Desktop/rrloto \\u2013 kopija/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from'axios';import{useForm}from'react-hook-form';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CancelModal=function CancelModal(_ref){var _errors$cancel_reason;var showCancelModal=_ref.showCancelModal,setShowCancelModal=_ref.setShowCancelModal,orderId=_ref.orderId,setMsg=_ref.setMsg;var _useForm=useForm({mode:\"onChange\",defaultValues:{cancel_reason:''}}),register=_useForm.register,errors=_useForm.formState.errors,handleSubmit=_useForm.handleSubmit;var onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(data){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(\"http://localhost:8000/api/admin/cancel/\".concat(orderId),data).then(function(res){setMsg(res.data.success);setShowCancelModal(false);}).catch(function(err){console.log(err);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref2.apply(this,arguments);};}();var handleClose=function handleClose(){setShowCancelModal(false);};return/*#__PURE__*/_jsx(_Fragment,{children:showCancelModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-header\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",children:\"At\\u0161aukti u\\u017Esakym\\u0105\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),method:\"POST\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nurodyti prie\\u017East\\u012F:\"}),/*#__PURE__*/_jsx(\"textarea\",_objectSpread({class:\"form-control\"},register(\"cancel_reason\",{required:true}))),/*#__PURE__*/_jsx(\"div\",{class:\"invalid-feedback\",children:((_errors$cancel_reason=errors.cancel_reason)===null||_errors$cancel_reason===void 0?void 0:_errors$cancel_reason.type)===\"required\"&&\"Privaloma įvesti priežastį\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",class:\"btn btn-primary\",children:\"Patvirtinti\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",class:\"btn btn-danger\",onClick:handleClose,children:\"At\\u0161aukti\"})]})]})]})})})});};export default CancelModal;","map":{"version":3,"names":["axios","useForm","CancelModal","showCancelModal","setShowCancelModal","orderId","setMsg","mode","defaultValues","cancel_reason","register","errors","formState","handleSubmit","onSubmit","data","post","then","res","success","catch","err","console","log","handleClose","required","type"],"sources":["C:/Users/Rokas/Desktop/rrloto – kopija/frontend/src/Components/CancelModal.jsx"],"sourcesContent":["import axios from 'axios';\r\nimport { useForm } from 'react-hook-form';\r\n\r\nconst CancelModal = ({showCancelModal, setShowCancelModal, orderId, setMsg}) => {\r\n\r\n    const {\r\n        register, \r\n        formState: {errors}, \r\n        handleSubmit,\r\n    } = useForm({\r\n        mode: \"onChange\",\r\n        defaultValues: {\r\n            cancel_reason: '',\r\n        }\r\n    });\r\n\r\n    const onSubmit = async (data) => {\r\n        await axios.post(`http://localhost:8000/api/admin/cancel/${orderId}`, data)\r\n        .then((res) => {\r\n            setMsg(res.data.success);\r\n            setShowCancelModal(false);\r\n        })\r\n        .catch((err)=>{console.log(err)})\r\n    }\r\n\r\n    const handleClose = () => {\r\n        setShowCancelModal(false);\r\n    }\r\n\r\n    return(\r\n        <>\r\n            {showCancelModal && (\r\n                <div className='modal'>\r\n                    <div className='modal-dialog'>\r\n                        <div className='modal-content'>\r\n                            <div className='modal-header'>\r\n                                <h5 className='modal-title'>Atšaukti užsakymą</h5>\r\n                            </div>\r\n                            <form onSubmit={handleSubmit(onSubmit)} method=\"POST\">\r\n                                <div className='modal-body'>\r\n                                    <div class=\"form-group\">\r\n                                        <label>Nurodyti priežastį:</label>\r\n                                        <textarea class=\"form-control\" {...register(\"cancel_reason\", {required: true})}></textarea>\r\n                                        <div class=\"invalid-feedback\">\r\n                                            {errors.cancel_reason?.type === \"required\" && \"Privaloma įvesti priežastį\"}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className='modal-footer'>\r\n                                    <button type='submit' class='btn btn-primary'>Patvirtinti</button>\r\n                                    <button type='submit' class='btn btn-danger' onClick={handleClose}>Atšaukti</button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CancelModal;"],"mappings":"6aAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,iBAAxB,C,6IAEA,GAAMC,YAAW,CAAG,QAAdA,YAAc,MAA4D,8BAA1DC,gBAA0D,MAA1DA,eAA0D,CAAzCC,kBAAyC,MAAzCA,kBAAyC,CAArBC,OAAqB,MAArBA,OAAqB,CAAZC,MAAY,MAAZA,MAAY,CAE5E,aAIIL,OAAO,CAAC,CACRM,IAAI,CAAE,UADE,CAERC,aAAa,CAAE,CACXC,aAAa,CAAE,EADJ,CAFP,CAAD,CAJX,CACIC,QADJ,UACIA,QADJ,CAEgBC,MAFhB,UAEIC,SAFJ,CAEgBD,MAFhB,CAGIE,YAHJ,UAGIA,YAHJ,CAWA,GAAMC,SAAQ,6FAAG,iBAAOC,IAAP,0IACPf,MAAK,CAACgB,IAAN,kDAAqDX,OAArD,EAAgEU,IAAhE,EACLE,IADK,CACA,SAACC,GAAD,CAAS,CACXZ,MAAM,CAACY,GAAG,CAACH,IAAJ,CAASI,OAAV,CAAN,CACAf,kBAAkB,CAAC,KAAD,CAAlB,CACH,CAJK,EAKLgB,KALK,CAKC,SAACC,GAAD,CAAO,CAACC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EAAiB,CAL1B,CADO,uDAAH,kBAARP,SAAQ,6CAAd,CASA,GAAMU,YAAW,CAAG,QAAdA,YAAc,EAAM,CACtBpB,kBAAkB,CAAC,KAAD,CAAlB,CACH,CAFD,CAIA,mBACI,yBACKD,eAAe,eACZ,YAAK,SAAS,CAAC,OAAf,uBACI,YAAK,SAAS,CAAC,cAAf,uBACI,aAAK,SAAS,CAAC,eAAf,wBACI,YAAK,SAAS,CAAC,cAAf,uBACI,WAAI,SAAS,CAAC,aAAd,8CADJ,EADJ,cAII,cAAM,QAAQ,CAAEU,YAAY,CAACC,QAAD,CAA5B,CAAwC,MAAM,CAAC,MAA/C,wBACI,YAAK,SAAS,CAAC,YAAf,uBACI,aAAK,KAAK,CAAC,YAAX,wBACI,wDADJ,cAEI,+BAAU,KAAK,CAAC,cAAhB,EAAmCJ,QAAQ,CAAC,eAAD,CAAkB,CAACe,QAAQ,CAAE,IAAX,CAAlB,CAA3C,EAFJ,cAGI,YAAK,KAAK,CAAC,kBAAX,UACK,wBAAAd,MAAM,CAACF,aAAP,sEAAsBiB,IAAtB,IAA+B,UAA/B,EAA6C,4BADlD,EAHJ,GADJ,EADJ,cAUI,aAAK,SAAS,CAAC,cAAf,wBACI,eAAQ,IAAI,CAAC,QAAb,CAAsB,KAAK,CAAC,iBAA5B,yBADJ,cAEI,eAAQ,IAAI,CAAC,QAAb,CAAsB,KAAK,CAAC,gBAA5B,CAA6C,OAAO,CAAEF,WAAtD,2BAFJ,GAVJ,GAJJ,GADJ,EADJ,EAFR,EADJ,CA8BH,CAxDD,CA0DA,cAAetB,YAAf"},"metadata":{},"sourceType":"module"}